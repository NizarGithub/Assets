RewriteEngine On
RewriteRule ^(.*)\$ index.php?&link=$1

<ifmodule mod_deflate.c>
	<filesmatch ".(js|css|ico|txt|htm|html|php)$">
		SetOutputFilter DEFLATE
	</filesmatch>
</ifmodule>

<filesMatch "\.(php|js|css)$">
  FileETag None
  <ifModule mod_headers.c>
     Header unset ETag
     Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"
     Header set Pragma "no-cache"
     Header set Expires "Wed, 11 Jan 1984 05:00:00 GMT"
  </ifModule>
</filesMatch>


<IfModule mod_headers.c>
  <FilesMatch "\.(js|css|xml|gz)$">
    Header append Vary Accept-Encoding
  </FilesMatch>
</IfModule>

## Speed up caching
FileETag MTime Size

<IfModule mod_php5.c>
php_value short_open_tag 1
</IfModule>

<IfModule mod_gzip.c>
mod_gzip_on Yes
mod_gzip_dechunk Yes
mod_gzip_item_include file .(html?|txt|css|js|php|pl)$
mod_gzip_item_include handler ^cgi-script$
mod_gzip_item_include mime ^text/.*
mod_gzip_item_include mime ^application/x-javascript.*
mod_gzip_item_exclude mime ^image/.*
mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</IfModule>

# File Htaccess untuk mempercepat loading web

# Use Mod_deflate to compress static files
<ifmodule mod_deflate.c>
	<filesmatch ".(js|css|ico|txt|htm|html|php)$">
	SetOutputFilter DEFLATE
	</filesmatch>
</ifmodule>


# Kode untuk cache file

<IfModule mod_expires.c>
ExpiresActive On
ExpiresDefault "access plus 1 seconds"
ExpiresByType image/jpeg "access plus 2592000 seconds"
ExpiresByType image/png "access plus 2592000 seconds"
ExpiresByType image/gif "access plus 2592000 seconds"
ExpiresByType text/css "access plus 604800 seconds"
ExpiresByType text/javascript "access plus 604800 seconds"
ExpiresByType application/javascript "access plus 604800 seconds"
ExpiresByType text/html "access plus 2592000 seconds"
# END Expire headers
<FilesMatch "\.(flv|ico|pdf|avi|mov|ppt|doc|php|mp3|wmv|wav|js|css|gif|jpg|jpeg|png|swf)$">
</FilesMatch>
</IfModule>



<IfModule mod_filter.c>
AddOutputFilterByType DEFLATE application/atom+xml \
application/javascript \
application/json \
application/rss+xml \
application/vnd.ms-fontobject \
application/x-font-ttf \
application/x-web-app-manifest+json \
application/xhtml+xml \
application/xml \
font/opentype \
image/svg+xml \
image/x-icon \
text/css \
text/html \
text/plain \
text/x-component \
text/xml
</IfModule>

